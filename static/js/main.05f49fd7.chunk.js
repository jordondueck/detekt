(this.webpackJsonpdetekt=this.webpackJsonpdetekt||[]).push([[0],{62:function(e,t,a){e.exports=a.p+"static/media/logo.63d10e19.png"},68:function(e,t,a){e.exports=a(89)},73:function(e,t,a){},74:function(e,t,a){},75:function(e,t,a){},76:function(e,t,a){},80:function(e,t,a){},84:function(e,t,a){},85:function(e,t,a){},86:function(e,t,a){},87:function(e,t,a){},88:function(e,t,a){},89:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(60),i=a.n(o),c=(a(72),a(73),a(26)),s=(a(74),a(61)),l=a.n(s),m=(a(75),a(76),a(62)),u=a.n(m),d=function(){return r.a.createElement(n.Fragment,null,r.a.createElement("img",{className:"logo-img",src:u.a,alt:"Logo"}))},p=function(e){var t=e.route,a=e.isSignedIn,n=e.handleRouteChange;return r.a.createElement("nav",{className:"nav"},r.a.createElement("div",{className:"nav-section"},r.a.createElement(d,null)),r.a.createElement("ul",{className:"nav-section nav-title"},r.a.createElement("li",null,r.a.createElement("h1",null,"detekt")),r.a.createElement("li",null,r.a.createElement("h3",null,"Facial Recognition System"))),"signin"===t?r.a.createElement("div",{className:"nav-section"},r.a.createElement("p",{className:"nav-item",onClick:function(){return n("registration")}},"Register")):"registration"===t?r.a.createElement("div",{className:"nav-section"},r.a.createElement("p",{className:"nav-item",onClick:function(){return n("signin")}},"Sign In")):a?r.a.createElement("div",{className:"nav-section"},r.a.createElement("p",{className:"nav-item",onClick:function(){return n("signin")}},"Sign Out")):void 0)},h=a(5),f=a(19),g=f.a().shape({email:f.b().email("Invalid email").max(50,"Email must be no more than 50 characters").required("Email required"),password:f.b().min(10,"Password must contain a minimum of 10 characters").max(50,"Password must contain a maximum of 50 characters").required("Password required")}),E=f.a().shape({firstname:f.b().trim().max(50,"First name must be no more than 50 characters").required("First name required"),lastname:f.b().trim().max(50,"Last name must be no more than 50 characters").required("Last name required"),email:f.b().email("Invalid email").max(50,"Email must be no more than 50 characters").required("Email required"),password:f.b().min(10,"Password must contain a minimum of 10 characters").max(50,"Password must contain a maximum of 50 characters").required("Password required")}),v=a(90),b=a(92),w=a(91),N=(a(80),function(e){var t=e.handleRouteChange,a=e.handleSignIn;return r.a.createElement(h.d,{initialValues:{email:"",password:""},validationSchema:g,onSubmit:function(e,n){n.setSubmitting;fetch("https://salty-mesa-37106.herokuapp.com/signin",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e.email,password:e.password})}).then((function(e){return e.json()})).then((function(e){e.email&&(a(e),t("home"))})).catch(console.log)}},(function(e){e.isSubmitting;return r.a.createElement(h.c,{className:"form"},r.a.createElement("h2",{className:"form__title"},"Sign In"),r.a.createElement(v.a,{controlId:"email"},r.a.createElement(h.b,{name:"email"},(function(e){var t=e.field,a=e.meta;return r.a.createElement(b.a,Object.assign({},t,a,{className:a.error&&a.touched?"input--error":"",type:"email",placeholder:"Email address"}))})),r.a.createElement(h.a,{className:"error",name:"email",component:"div"})),r.a.createElement(v.a,{controlId:"password"},r.a.createElement(h.b,{name:"password"},(function(e){var t=e.field,a=e.meta;return r.a.createElement(b.a,Object.assign({},t,a,{className:a.error&&a.touched?"input--error":"",type:"password",placeholder:"Password"}))})),r.a.createElement(h.a,{className:"error",name:"password",component:"div"})),r.a.createElement(w.a,{variant:"outline-dark",type:"submit"},"Sign In"))}))}),y=(a(84),function(e){var t=e.handleRouteChange;return r.a.createElement(h.d,{initialValues:{firstname:"",lastname:"",email:"",password:""},validationSchema:E,onSubmit:function(e,a){a.setSubmitting;fetch("https://salty-mesa-37106.herokuapp.com/register",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({firstname:e.firstname,lastname:e.lastname,email:e.email,password:e.password})}).then((function(e){if(200===e.status)return e.json()})).then((function(e){e&&t("signin")})).catch(console.log)}},(function(e){var t=e.isSubmitting;return r.a.createElement(h.c,{className:"form"},r.a.createElement("h2",null,"Register"),r.a.createElement(v.a,{controlId:"firstName"},r.a.createElement(h.b,{name:"firstname"},(function(e){var t=e.field,a=e.meta;return r.a.createElement(b.a,Object.assign({},t,a,{className:a.error&&a.touched?"input--error":"",type:"text",placeholder:"First name"}))})),r.a.createElement(h.a,{className:"error",name:"firstname",component:"div"})),r.a.createElement(v.a,{controlId:"lastName"},r.a.createElement(h.b,{name:"lastname"},(function(e){var t=e.field,a=e.meta;return r.a.createElement(b.a,Object.assign({},t,a,{className:a.error&&a.touched?"input--error":"",type:"text",placeholder:"Last name"}))})),r.a.createElement(h.a,{className:"error",name:"lastname",component:"div"})),r.a.createElement(v.a,{controlId:"email"},r.a.createElement(h.b,{name:"email"},(function(e){var t=e.field,a=e.meta;return r.a.createElement(b.a,Object.assign({},t,a,{className:a.error&&a.touched?"input--error":"",type:"email",placeholder:"Email address"}))})),r.a.createElement(h.a,{className:"error",name:"email",component:"div"})),r.a.createElement(v.a,{controlId:"password"},r.a.createElement(h.b,{name:"password"},(function(e){var t=e.field,a=e.meta;return r.a.createElement(b.a,Object.assign({},t,a,{className:a.error&&a.touched?"input--error":"",type:"password",placeholder:"Password"}))})),r.a.createElement(h.a,{className:"error",name:"password",component:"div"})),r.a.createElement(w.a,{variant:"outline-dark",type:"submit",disabled:t},"Register"))}))}),S=(a(85),function(){return r.a.createElement("div",{className:"stats-title"})}),k=(a(86),function(e){var t=e.handleInputChange,a=e.handleButtonSubmit;return r.a.createElement("div",{className:"form-container"},r.a.createElement("p",{className:"form-title"},"Enter Image URL"),r.a.createElement("div",{className:"form-content"},r.a.createElement("input",{className:"form-input",type:"text",placeholder:"https://example.com/images/example.jpg",onChange:t}),r.a.createElement("button",{className:"form-button",onClick:a},"Detect")),r.a.createElement("p",{className:"form-tip"},"Note: Large images take longer to process."))}),j=(a(87),a(88),function(e){var t=e.boxAreas;return r.a.createElement("div",null,t.map((function(e,t){return r.a.createElement("div",{className:"frs--bounding-box",key:t,style:{top:e.topRow,left:e.leftCol,bottom:e.bottomRow,right:e.rightCol}})})))}),C=function(e){var t=e.imageUrl,a=e.boxAreas,o=Object(n.useState)("Loading..."),i=Object(c.a)(o,2),s=i[0],l=i[1];return""!==t?r.a.createElement("div",{className:"frs--container"},r.a.createElement("div",{className:"frs--container-inner"},r.a.createElement("img",{className:"frs--image",id:"inputImage",onLoad:function(){l("")},src:t,alt:""}),r.a.createElement(j,{boxAreas:a}),r.a.createElement("p",{style:{textAlign:"center"}},s))):r.a.createElement("div",{className:"frs--container"})},O={particles:{number:{value:45,density:{enable:!0,value_area:800}},line_linked:{shadow:{enable:!0,color:"#3CA9D1",blur:1}}}};var x=function(){var e=Object(n.useState)("signin"),t=Object(c.a)(e,2),a=t[0],o=t[1],i=Object(n.useState)(!1),s=Object(c.a)(i,2),m=s[0],u=s[1],d=Object(n.useState)(""),h=Object(c.a)(d,2),f=h[0],g=h[1],E=Object(n.useState)([{}]),v=Object(c.a)(E,2),b=v[0],w=v[1],j=Object(n.useState)([{}]),x=Object(c.a)(j,2),I=x[0],R=x[1];fetch("https://salty-mesa-37106.herokuapp.com/",{method:"get",headers:{"Content-Type":"application/json"}}).catch(console.log);var q=function(e){"home"!==e&&(u(!1),g(""),w([{}]),R([{}])),o(e)},A=function(e){var t=e.outputs[0].data.regions.map((function(e){return e.region_info.bounding_box})),a=document.getElementById("inputImage"),n=Number(a.width),r=Number(a.height);return t.map((function(e){return{topRow:e.top_row*r,leftCol:e.left_col*n,bottomRow:r-e.bottom_row*r,rightCol:n-e.right_col*n}}))},L=function(e){w(e)};return r.a.createElement("div",{className:"App"},r.a.createElement(l.a,{className:"particles",params:O}),r.a.createElement(p,{route:a,handleRouteChange:q,isSignedIn:m}),"signin"===a?r.a.createElement("section",{className:"container"},r.a.createElement(N,{handleRouteChange:q,handleSignIn:function(e){R(e),u(!0)}})):"registration"===a?r.a.createElement("section",{className:"container"},r.a.createElement(y,{handleRouteChange:q})):r.a.createElement("section",null,r.a.createElement(S,null),r.a.createElement(k,{handleInputChange:function(e){w([{}]),g(e.target.value)},handleButtonSubmit:function(){fetch("https://salty-mesa-37106.herokuapp.com/clarifai",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({imageUrl:f})}).then((function(e){return e.json()})).then((function(e){fetch("https://salty-mesa-37106.herokuapp.com/image",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({itemsdetected:e.outputs[0].data.regions.length,accountid:I.accountid})}).catch(console.log),L(A(e))})).catch((function(e){return console.log("Error loading image: ",e)}))}}),r.a.createElement(C,{imageUrl:f,boxAreas:b})))},I=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function R(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}i.a.render(r.a.createElement(x,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/detekt",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/detekt","/service-worker.js");I?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):R(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):R(t,e)}))}}()}},[[68,1,2]]]);
//# sourceMappingURL=main.05f49fd7.chunk.js.map